# -*- explicit-buffer-name: "CMakeLists.txt<M1-MOBJ/4-5>" -*-
#
# To display executed commands, use:
#     > cmake -DCMAKE_VERBOSE_MAKEFILE:STRING=YES ../src



 cmake_minimum_required(VERSION 2.8.0)
 project(SCHEMATIC)
 
 set (CMAKE_CXX_FLAGS            "-Wall -g" CACHE STRING "C++ Compiler Release options." FORCE)
 set (CMAKE_INSTALL_PREFIX       "../install" )



 
    find_package(LibXml2 REQUIRED)
   # find_package(Qt4     REQUIRED)
   # include(${QT_USE_FILE})
    include_directories( ${SCHEMATIC_SOURCE_DIR}
                         ${LIBXML2_INCLUDE_DIRS})

                    set( includes     Indentation.h
                                      XmlUtil.h
                                      Term.h
                                      Net.h
                                      Instance.h
                                      Point.h
                                      Node.h
                                      Cell.h
                                      Box.h
                                      Line.h
                                      Shape.h
                                      BoxShape.h
                                      LineShape.h
                                      TermShape.h
                                      Symbol.h
                       )
                    set( cpps         Indentation.cpp
                                      Term.cpp
                                      Net.cpp
                                      Instance.cpp
                                      Point.cpp
                                      Node.cpp
                                      XmlUtil.cpp
                                      Box.cpp
                                      Line.cpp
                                      Shape.cpp
                                      BoxShape.cpp
                                      LineShape.cpp
                                      TermShape.cpp
                                      Symbol.cpp
                                      Cell.cpp
                                      Main.cpp
                       )

        #qt4_wrap_cpp( mocCpps      ${mocIncludes} )

        add_executable( tme7       ${cpps} ${mocCpps} )
  target_link_libraries( tme7      ${QT_LIBRARIES} ${LIBXML2_LIBRARIES} )
                install( TARGETS      tme7                      DESTINATION bin )
                install( FILES        ${includes} ${mocIncludes}  DESTINATION include )

